<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>pFoF: modwritehalo Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pFoF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Parallel Friend of Friend</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Modules&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Module&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacemodwritehalo.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">modwritehalo Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains routines to write HDF5 halo files created with pfof and pfof_cone.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a3e00317bab6230ca8987e14b62b79874"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemodwritehalo.html#a3e00317bab6230ca8987e14b62b79874">h5writehalopart</a> (param_pfof, haloNB, halopartNB, haloMass, haloID, halopartPos, halopartVel, halopartID, halopartFor, halopartPot, halopartRamsesID, inforamses, infocone)</td></tr>
<tr class="memdesc:a3e00317bab6230ca8987e14b62b79874"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI process and several halos per file. There is one group per halo, the name of the group is the ID of the halo.  <a href="#a3e00317bab6230ca8987e14b62b79874">More...</a><br /></td></tr>
<tr class="separator:a3e00317bab6230ca8987e14b62b79874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de4785bb81feb8a4b806bd18a65bf4d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemodwritehalo.html#a7de4785bb81feb8a4b806bd18a65bf4d">mpih5writehalopart</a> (mpicomm, param_pfof, haloNB, halopartNB, haloMass, haloID, halopartPos, halopartVel, halopartID, halopartFor, halopartPot, halopartRamsesID, inforamses, infocone)</td></tr>
<tr class="memdesc:a7de4785bb81feb8a4b806bd18a65bf4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI communicator mpicomm and several halos per file, using parallel HDF5. There is one group per halo, the name of the group is the ID of the halo.  <a href="#a7de4785bb81feb8a4b806bd18a65bf4d">More...</a><br /></td></tr>
<tr class="separator:a7de4785bb81feb8a4b806bd18a65bf4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9dfc9671a5f395219212ba8d45204b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemodwritehalo.html#a9f9dfc9671a5f395219212ba8d45204b">mpih5writehalomass</a> (mpicomm, param_pfof, haloNB_all, haloNB, nh, haloMass, halocomPos, halocomVel, haloID, haloRadius, haloSubHaloNB, inforamses, infocone)</td></tr>
<tr class="memdesc:a9f9dfc9671a5f395219212ba8d45204b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine writes, for each halo, its mass (number of particles), the position and the velocity of its center of mass and its ID in only one hdf5 file using parallel HDF5.  <a href="#a9f9dfc9671a5f395219212ba8d45204b">More...</a><br /></td></tr>
<tr class="separator:a9f9dfc9671a5f395219212ba8d45204b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module contains routines to write HDF5 halo files created with pfof and pfof_cone. </p>
<dl class="section author"><dt>Author</dt><dd>Fabrice Roy </dd></dl>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a3e00317bab6230ca8987e14b62b79874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine modwritehalo::h5writehalopart </td>
          <td>(</td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__parameter__pfof.html">type_parameter_pfof</a>), intent(in)&#160;</td>
          <td class="paramname"><em>param_pfof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>halopartNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartVel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartFor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartPot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartRamsesID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structmodconstant_1_1type__inforamses.html">type_inforamses</a>), intent(in)&#160;</td>
          <td class="paramname"><em>inforamses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__infocone.html">type_infocone</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>infocone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI process and several halos per file. There is one group per halo, the name of the group is the ID of the halo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb</td><td>Number of halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartnb</td><td>Number of particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloid</td><td>Array containing the ID of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartid</td><td>Array containing the ID of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halomass</td><td>Array containing the mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartvel</td><td>Array containing the position and velocity of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartpot</td><td>Array containing the potential of the particles belonging to the halos, this argument is optional</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartfor</td><td>Array containing the force on the particles belonging to the halos, this argument is optional</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartramsesid</td><td>Array containing the "Ramses" ID of the particles belonging to the halos detected in lightcones </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00024">24</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>

<p>References <a class="el" href="modiocommons_8f90_source.html#l00015">modiocommons::h5write_meta_common()</a>, <a class="el" href="modiocommons_8f90_source.html#l00462">modiocommons::h5write_meta_info_cone()</a>, <a class="el" href="modiocommons_8f90_source.html#l00379">modiocommons::h5write_meta_info_ramses()</a>, <a class="el" href="modiocommons_8f90_source.html#l00079">modiocommons::h5write_meta_pfof_parameter()</a>, <a class="el" href="modhdf5_8f90_source.html#l00448">modhdf5::hdf5_close_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00523">modhdf5::hdf5_close_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00377">modhdf5::hdf5_create_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00500">modhdf5::hdf5_create_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00477">modhdf5::hdf5_open_group()</a>, <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00019">modmpicom::procid</a>, and <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00020">modmpicom::procnb</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_cgraph.png" border="0" usemap="#namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_cgraph" alt=""/></div>
<map name="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_cgraph" id="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_cgraph">
<area shape="rect" id="node2" href="namespacemodiocommons.html#a34d5806274712591a9d885c1d926af57" title="modiocommons::h5write\l_meta_common" alt="" coords="252,43,416,84"/>
<area shape="rect" id="node3" href="namespacemodhdf5.html#aba547bfdd3dc38385069b0885ab5d526" title="Close a hdf5 group. " alt="" coords="471,128,613,169"/>
<area shape="rect" id="node4" href="namespacemodhdf5.html#ae547666d0167e2a78d6529e11c1faa92" title="Open an existing hdf5 group. " alt="" coords="472,193,612,235"/>
<area shape="rect" id="node5" href="namespacemodiocommons.html#afee94c7a833034224dee17e9055971e4" title="modiocommons::h5write\l_meta_info_cone" alt="" coords="252,160,416,201"/>
<area shape="rect" id="node6" href="namespacemodhdf5.html#a5486f9c861f7b8ee2060015acf0169a4" title="Create and open a hdf5 group. " alt="" coords="468,291,616,332"/>
<area shape="rect" id="node7" href="namespacemodiocommons.html#aa0393a317c75eb21189d5d381c3cf591" title="modiocommons::h5write\l_meta_info_ramses" alt="" coords="252,225,416,267"/>
<area shape="rect" id="node8" href="namespacemodiocommons.html#a27eabdb687af381e608f120d19dfa997" title="modiocommons::h5write\l_meta_pfof_parameter" alt="" coords="252,291,416,332"/>
<area shape="rect" id="node9" href="namespacemodhdf5.html#af70ee678ccdc5ce829431ebe909264a9" title="Close a h5 file. " alt="" coords="251,458,417,485"/>
<area shape="rect" id="node10" href="namespacemodhdf5.html#a66cf3f318aafac811c2422f8155f7ae1" title="Create and open a hdf5 file. " alt="" coords="248,357,420,383"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_icgraph.png" border="0" usemap="#namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_icgraph" alt=""/></div>
<map name="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_icgraph" id="namespacemodwritehalo_a3e00317bab6230ca8987e14b62b79874_icgraph">
<area shape="rect" id="node2" href="namespacemodfofpara.html#a0e76e564f41683dc0c0104fc789718b0" title="Serial FOF subroutine. " alt="" coords="262,5,397,32"/>
<area shape="rect" id="node4" href="namespacemodfofpara.html#a033a2820dd29f107782b566ca298bde4" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="248,56,411,83"/>
<area shape="rect" id="node3" href="pfof__snap_8f90.html#ae44d28f09de4222a58811986e6e2a1d5" title="friend" alt="" coords="471,5,525,32"/>
<area shape="rect" id="node5" href="pfof__cone_8f90.html#addc770475dc2e497bf70a10ebc158aed" title="pFOF_cone is a distributed implementation of the Friends&#45;of&#45;Friends halo finder algorithm designed fo..." alt="" coords="459,56,537,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9f9dfc9671a5f395219212ba8d45204b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine modwritehalo::mpih5writehalomass </td>
          <td>(</td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>mpicomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__parameter__pfof.html">type_parameter_pfof</a>), intent(in)&#160;</td>
          <td class="paramname"><em>param_pfof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB_all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>nh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(nh), intent(in), target&#160;</td>
          <td class="paramname"><em>haloMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(3,nh), intent(in), target&#160;</td>
          <td class="paramname"><em>halocomPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(3,nh), intent(in), target&#160;</td>
          <td class="paramname"><em>halocomVel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(nh), intent(in), target&#160;</td>
          <td class="paramname"><em>haloID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(nh), intent(in), target&#160;</td>
          <td class="paramname"><em>haloRadius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(nh), intent(in), target&#160;</td>
          <td class="paramname"><em>haloSubHaloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structmodconstant_1_1type__inforamses.html">type_inforamses</a>), intent(in)&#160;</td>
          <td class="paramname"><em>inforamses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__infocone.html">type_infocone</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>infocone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine writes, for each halo, its mass (number of particles), the position and the velocity of its center of mass and its ID in only one hdf5 file using parallel HDF5. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb_all</td><td>Total number of halos (sum over all processes)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb</td><td>Number of halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halomass</td><td>Mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halocompos</td><td>Position of the center of mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halocomvel</td><td>Velocity of the center of mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloid</td><td>ID of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloradius</td><td>Radius of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halosubhalonb</td><td>Number of subhalos in each halo</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>MPI communicator used to create and write the file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00503">503</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>

<p>References <a class="el" href="modiocommons_8f90_source.html#l00015">modiocommons::h5write_meta_common()</a>, <a class="el" href="modiocommons_8f90_source.html#l00462">modiocommons::h5write_meta_info_cone()</a>, <a class="el" href="modiocommons_8f90_source.html#l00379">modiocommons::h5write_meta_info_ramses()</a>, <a class="el" href="modiocommons_8f90_source.html#l00079">modiocommons::h5write_meta_pfof_parameter()</a>, <a class="el" href="modhdf5_8f90_source.html#l00280">modhdf5::hdf5_create_mpi_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00477">modhdf5::hdf5_open_group()</a>, and <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00019">modmpicom::procid</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_cgraph.png" border="0" usemap="#namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_cgraph" alt=""/></div>
<map name="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_cgraph" id="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_cgraph">
<area shape="rect" id="node2" href="namespacemodiocommons.html#a34d5806274712591a9d885c1d926af57" title="modiocommons::h5write\l_meta_common" alt="" coords="280,36,444,78"/>
<area shape="rect" id="node4" href="namespacemodhdf5.html#ae547666d0167e2a78d6529e11c1faa92" title="Open an existing hdf5 group. " alt="" coords="496,102,636,143"/>
<area shape="rect" id="node5" href="namespacemodiocommons.html#afee94c7a833034224dee17e9055971e4" title="modiocommons::h5write\l_meta_info_cone" alt="" coords="280,102,444,143"/>
<area shape="rect" id="node7" href="namespacemodiocommons.html#aa0393a317c75eb21189d5d381c3cf591" title="modiocommons::h5write\l_meta_info_ramses" alt="" coords="280,167,444,208"/>
<area shape="rect" id="node8" href="namespacemodiocommons.html#a27eabdb687af381e608f120d19dfa997" title="modiocommons::h5write\l_meta_pfof_parameter" alt="" coords="280,232,444,274"/>
<area shape="rect" id="node9" href="namespacemodhdf5.html#aba50f37e2c24ac3271cdfc8877ebdcd9" title="Create and open a &#39;parallel&#39; hdf5 file shared by the communicator comm. " alt="" coords="288,298,436,339"/>
<area shape="rect" id="node3" href="namespacemodhdf5.html#aba547bfdd3dc38385069b0885ab5d526" title="Close a hdf5 group. " alt="" coords="495,167,637,208"/>
<area shape="rect" id="node6" href="namespacemodhdf5.html#a5486f9c861f7b8ee2060015acf0169a4" title="Create and open a hdf5 group. " alt="" coords="492,232,640,274"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_icgraph.png" border="0" usemap="#namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_icgraph" alt=""/></div>
<map name="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_icgraph" id="namespacemodwritehalo_a9f9dfc9671a5f395219212ba8d45204b_icgraph">
<area shape="rect" id="node2" href="namespacemodfofpara.html#a0e76e564f41683dc0c0104fc789718b0" title="Serial FOF subroutine. " alt="" coords="294,5,429,32"/>
<area shape="rect" id="node4" href="namespacemodfofpara.html#a033a2820dd29f107782b566ca298bde4" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="280,56,443,83"/>
<area shape="rect" id="node3" href="pfof__snap_8f90.html#ae44d28f09de4222a58811986e6e2a1d5" title="friend" alt="" coords="503,5,557,32"/>
<area shape="rect" id="node5" href="pfof__cone_8f90.html#addc770475dc2e497bf70a10ebc158aed" title="pFOF_cone is a distributed implementation of the Friends&#45;of&#45;Friends halo finder algorithm designed fo..." alt="" coords="491,56,569,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7de4785bb81feb8a4b806bd18a65bf4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine modwritehalo::mpih5writehalopart </td>
          <td>(</td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>mpicomm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__parameter__pfof.html">type_parameter_pfof</a>), intent(in)&#160;</td>
          <td class="paramname"><em>param_pfof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>halopartNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartVel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartFor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartPot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halopartnb), intent(in), optional, target&#160;</td>
          <td class="paramname"><em>halopartRamsesID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structmodconstant_1_1type__inforamses.html">type_inforamses</a>), intent(in)&#160;</td>
          <td class="paramname"><em>inforamses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class(<a class="el" href="structmodconstant_1_1type__infocone.html">type_infocone</a>), intent(in), optional&#160;</td>
          <td class="paramname"><em>infocone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI communicator mpicomm and several halos per file, using parallel HDF5. There is one group per halo, the name of the group is the ID of the halo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>MPI communicator used to gather informations</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb</td><td>Number of halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartnb</td><td>Number of particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloid</td><td>Array containing the ID of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartid</td><td>Array containing the ID of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halomass</td><td>Array containing the mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartvel</td><td>Array containing the position and velocity of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartpot</td><td>Array containing the potential of the particles belonging to the halos, this argument is optional</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartfor</td><td>Array containing the force on the particles belonging to the halos, this argument is optional</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartramsesid</td><td>Array containing the "Ramses" ID of the particles belonging to the halos detected in lightcones </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00219">219</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>

<p>References <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00027">modmpicom::commcolorwrite</a>, <a class="el" href="modiocommons_8f90_source.html#l00015">modiocommons::h5write_meta_common()</a>, <a class="el" href="modiocommons_8f90_source.html#l00462">modiocommons::h5write_meta_info_cone()</a>, <a class="el" href="modiocommons_8f90_source.html#l00379">modiocommons::h5write_meta_info_ramses()</a>, <a class="el" href="modiocommons_8f90_source.html#l00079">modiocommons::h5write_meta_pfof_parameter()</a>, <a class="el" href="modhdf5_8f90_source.html#l00523">modhdf5::hdf5_close_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00356">modhdf5::hdf5_close_mpi_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00500">modhdf5::hdf5_create_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00280">modhdf5::hdf5_create_mpi_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00477">modhdf5::hdf5_open_group()</a>, <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00016">modmpicom::mpierr</a>, <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00019">modmpicom::procid</a>, and <a class="el" href="pfof__snap_2src_2modmpicom_8f90_source.html#l00029">modmpicom::scprocidwrite</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_cgraph.png" border="0" usemap="#namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_cgraph" alt=""/></div>
<map name="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_cgraph" id="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_cgraph">
<area shape="rect" id="node2" href="namespacemodiocommons.html#a34d5806274712591a9d885c1d926af57" title="modiocommons::h5write\l_meta_common" alt="" coords="269,41,433,83"/>
<area shape="rect" id="node3" href="namespacemodhdf5.html#aba547bfdd3dc38385069b0885ab5d526" title="Close a hdf5 group. " alt="" coords="484,127,627,168"/>
<area shape="rect" id="node4" href="namespacemodhdf5.html#ae547666d0167e2a78d6529e11c1faa92" title="Open an existing hdf5 group. " alt="" coords="485,192,625,233"/>
<area shape="rect" id="node5" href="namespacemodiocommons.html#afee94c7a833034224dee17e9055971e4" title="modiocommons::h5write\l_meta_info_cone" alt="" coords="269,159,433,200"/>
<area shape="rect" id="node6" href="namespacemodhdf5.html#a5486f9c861f7b8ee2060015acf0169a4" title="Create and open a hdf5 group. " alt="" coords="481,289,629,331"/>
<area shape="rect" id="node7" href="namespacemodiocommons.html#aa0393a317c75eb21189d5d381c3cf591" title="modiocommons::h5write\l_meta_info_ramses" alt="" coords="269,224,433,265"/>
<area shape="rect" id="node8" href="namespacemodiocommons.html#a27eabdb687af381e608f120d19dfa997" title="modiocommons::h5write\l_meta_pfof_parameter" alt="" coords="269,289,433,331"/>
<area shape="rect" id="node9" href="namespacemodhdf5.html#a72cb805582425e8633c70c5db85df8bc" title="Close a &#39;parallel&#39; hdf5 file. " alt="" coords="280,472,423,513"/>
<area shape="rect" id="node10" href="namespacemodhdf5.html#aba50f37e2c24ac3271cdfc8877ebdcd9" title="Create and open a &#39;parallel&#39; hdf5 file shared by the communicator comm. " alt="" coords="277,355,425,396"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_icgraph.png" border="0" usemap="#namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_icgraph" alt=""/></div>
<map name="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_icgraph" id="namespacemodwritehalo_a7de4785bb81feb8a4b806bd18a65bf4d_icgraph">
<area shape="rect" id="node2" href="namespacemodfofpara.html#a0e76e564f41683dc0c0104fc789718b0" title="Serial FOF subroutine. " alt="" coords="283,5,418,32"/>
<area shape="rect" id="node4" href="namespacemodfofpara.html#a033a2820dd29f107782b566ca298bde4" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="269,56,432,83"/>
<area shape="rect" id="node3" href="pfof__snap_8f90.html#ae44d28f09de4222a58811986e6e2a1d5" title="friend" alt="" coords="492,5,547,32"/>
<area shape="rect" id="node5" href="pfof__cone_8f90.html#addc770475dc2e497bf70a10ebc158aed" title="pFOF_cone is a distributed implementation of the Friends&#45;of&#45;Friends halo finder algorithm designed fo..." alt="" coords="480,56,559,83"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemodwritehalo.html">modwritehalo</a></li>
    <li class="footer">Generated on Thu Sep 8 2016 11:50:08 for pFoF by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
