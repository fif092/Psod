<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>pFoF: modwritehalo Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">pFoF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Types</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="modulemodwritehalo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">modwritehalo Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module contains routines to write HDF5 halo files created with pfof and pfof_cone.  
 <a href="classmodwritehalo.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8106d4405e4178f9b94b2cf9f850b8bd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodwritehalo.html#a8106d4405e4178f9b94b2cf9f850b8bd">h5writehalopart</a> (haloNB, halopartNB, haloMass, haloID, halopartPos, halopartVel, halopartID, mpicomm)</td></tr>
<tr class="memdesc:a8106d4405e4178f9b94b2cf9f850b8bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI process and several halos per file. There is one group per halo, the name of the group is the ID of the halo.  <a href="#a8106d4405e4178f9b94b2cf9f850b8bd">More...</a><br/></td></tr>
<tr class="separator:a8106d4405e4178f9b94b2cf9f850b8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89848d0de917714b051873fda01d98d1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodwritehalo.html#a89848d0de917714b051873fda01d98d1">mpih5writehalomass</a> (haloNB_all, haloNB, haloMass, halocomPos, halocomVel, haloID, haloRadius, haloSubHaloNB, mpicomm)</td></tr>
<tr class="memdesc:a89848d0de917714b051873fda01d98d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine writes, for each halo, its mass (number of particles), the position and the velocity of its center of mass and its ID in only one hdf5 file using parallel HDF5.  <a href="#a89848d0de917714b051873fda01d98d1">More...</a><br/></td></tr>
<tr class="separator:a89848d0de917714b051873fda01d98d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module contains routines to write HDF5 halo files created with pfof and pfof_cone. </p>
<p>Authors: F. Roy </p>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00008">8</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a class="anchor" id="a8106d4405e4178f9b94b2cf9f850b8bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine modwritehalo::h5writehalopart </td>
          <td>(</td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>halopartNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halonb), intent(in)&#160;</td>
          <td class="paramname"><em>haloID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real (kind=4), dimension(3,halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartVel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halopartnb), intent(in), target&#160;</td>
          <td class="paramname"><em>halopartID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>mpicomm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine writes for each halo the position, the velocity and the id of each particle in this halo in a hdf5 file. One file is written per MPI process and several halos per file. There is one group per halo, the name of the group is the ID of the halo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb</td><td>Number of halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartnb</td><td>Number of particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloid</td><td>Array containing the ID of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartid</td><td>Array containing the ID of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halomass</td><td>Array containing the mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halopartvel</td><td>Array containing the position and velocity of the particles belonging to the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>MPI communicator used to gather informations </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00017">17</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>

<p>References <a class="el" href="modhdf5_8f90_source.html#l00499">modhdf5::hdf5_close_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00570">modhdf5::hdf5_close_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00397">modhdf5::hdf5_create_file()</a>, <a class="el" href="modhdf5_8f90_source.html#l00547">modhdf5::hdf5_create_group()</a>, <a class="el" href="modhdf5_8f90_source.html#l00524">modhdf5::hdf5_open_group()</a>, and <a class="el" href="pfof__hdf5_2src_2modxdmf_8f90_source.html#l00022">modxdmf::writesinglehaloxdmf()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_cgraph.png" border="0" usemap="#classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_cgraph" alt=""/></div>
<map name="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_cgraph" id="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_cgraph">
<area shape="rect" id="node2" href="classmodhdf5.html#af70ee678ccdc5ce829431ebe909264a9" title="Close a h5 file. " alt="" coords="265,5,431,32"/><area shape="rect" id="node3" href="classmodhdf5.html#aba547bfdd3dc38385069b0885ab5d526" title="Close a hdf5 group. " alt="" coords="277,57,419,98"/><area shape="rect" id="node4" href="classmodhdf5.html#a4108148cefef713392f3f1da426e75d2" title="Create and open a hdf5 file. " alt="" coords="262,123,434,149"/><area shape="rect" id="node5" href="classmodhdf5.html#a5486f9c861f7b8ee2060015acf0169a4" title="Create and open a hdf5 group. " alt="" coords="274,174,422,215"/><area shape="rect" id="node6" href="classmodhdf5.html#ae547666d0167e2a78d6529e11c1faa92" title="Open an existing hdf5 group. " alt="" coords="278,239,418,281"/><area shape="rect" id="node7" href="classmodxdmf.html#ab794d1f6abf632c9ff4279bec51e13b1" title="Writes a single xdmf file containing the references to each HDF5 halo file written by pFOF..." alt="" coords="249,305,447,332"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_icgraph.png" border="0" usemap="#classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_icgraph" alt=""/></div>
<map name="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_icgraph" id="classmodwritehalo_a8106d4405e4178f9b94b2cf9f850b8bd_icgraph">
<area shape="rect" id="node2" href="classmodfofpara.html#a0e76e564f41683dc0c0104fc789718b0" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="262,5,397,32"/><area shape="rect" id="node4" href="classmodfofpara.html#a033a2820dd29f107782b566ca298bde4" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="248,56,411,83"/><area shape="rect" id="node3" href="pfof_8f90.html#ae44d28f09de4222a58811986e6e2a1d5" title="friend" alt="" coords="471,5,526,32"/><area shape="rect" id="node5" href="pfof__cone_8f90.html#addc770475dc2e497bf70a10ebc158aed" title="pFOF_cone is a distributed implementation of the Friends&#45;of&#45;Friends halo finder algorithm designed fo..." alt="" coords="459,56,538,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a89848d0de917714b051873fda01d98d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine modwritehalo::mpih5writehalomass </td>
          <td>(</td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB_all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>haloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>haloMass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(3,halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>halocomPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(3,halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>halocomVel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=pri), dimension(halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>haloID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(kind=8), dimension(halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>haloRadius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), dimension(halonb), intent(in), target&#160;</td>
          <td class="paramname"><em>haloSubHaloNB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), intent(in)&#160;</td>
          <td class="paramname"><em>mpicomm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine writes, for each halo, its mass (number of particles), the position and the velocity of its center of mass and its ID in only one hdf5 file using parallel HDF5. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb_all</td><td>Total number of halos (sum over all processes)</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halonb</td><td>Number of halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halomass</td><td>Mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halocompos</td><td>Position of the center of mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halocomvel</td><td>Velocity of the center of mass of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloid</td><td>ID of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">haloradius</td><td>Radius of the halos</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">halosubhalonb</td><td>Number of subhalos in each halo</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mpicomm</td><td>MPI communicator used to create and write the file </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modwritehalo_8f90_source.html#l00156">156</a> of file <a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a>.</p>

<p>References <a class="el" href="modhdf5_8f90_source.html#l00376">modhdf5::hdf5_close_mpi_file()</a>, and <a class="el" href="modhdf5_8f90_source.html#l00265">modhdf5::hdf5_create_mpi_file()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmodwritehalo_a89848d0de917714b051873fda01d98d1_cgraph.png" border="0" usemap="#classmodwritehalo_a89848d0de917714b051873fda01d98d1_cgraph" alt=""/></div>
<map name="classmodwritehalo_a89848d0de917714b051873fda01d98d1_cgraph" id="classmodwritehalo_a89848d0de917714b051873fda01d98d1_cgraph">
<area shape="rect" id="node2" href="classmodhdf5.html#a72cb805582425e8633c70c5db85df8bc" title="Close a &#39;parallel&#39; hdf5 file. " alt="" coords="283,5,426,46"/><area shape="rect" id="node3" href="classmodhdf5.html#a0382a4721335fbb49e1cb9cd48cfea0a" title="Create and open a &#39;parallel&#39; hdf5 file shared by the communicator comm. " alt="" coords="281,70,429,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classmodwritehalo_a89848d0de917714b051873fda01d98d1_icgraph.png" border="0" usemap="#classmodwritehalo_a89848d0de917714b051873fda01d98d1_icgraph" alt=""/></div>
<map name="classmodwritehalo_a89848d0de917714b051873fda01d98d1_icgraph" id="classmodwritehalo_a89848d0de917714b051873fda01d98d1_icgraph">
<area shape="rect" id="node2" href="classmodfofpara.html#a0e76e564f41683dc0c0104fc789718b0" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="294,5,429,32"/><area shape="rect" id="node4" href="classmodfofpara.html#a033a2820dd29f107782b566ca298bde4" title="Parallel FOF subroutine Finds haloes on each process then apply the merging process for haloes that e..." alt="" coords="280,56,443,83"/><area shape="rect" id="node3" href="pfof_8f90.html#ae44d28f09de4222a58811986e6e2a1d5" title="friend" alt="" coords="503,5,558,32"/><area shape="rect" id="node5" href="pfof__cone_8f90.html#addc770475dc2e497bf70a10ebc158aed" title="pFOF_cone is a distributed implementation of the Friends&#45;of&#45;Friends halo finder algorithm designed fo..." alt="" coords="491,56,570,83"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this module was generated from the following file:<ul>
<li>/home/roy/Travail/Devel/Cosmologie/Pfof/trunk/common/src/<a class="el" href="modwritehalo_8f90_source.html">modwritehalo.f90</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 15 2015 15:02:18 for pFoF by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
