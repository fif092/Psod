<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>pFoF: pFOF Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pFoF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Parallel Friend of Friend</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pFOF Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>pFOF is a software package based on a distributed implementation of the Friends-of-Friends halo finder algorithm. <br />
 It can be used to analyze output from the RAMSES code. <br />
 This parallel Friend of Friend implementation is based on a sequential implementation written by Edouard Audit (CEA). <br />
 It has been written by Fabrice Roy and Vincent Bouillot &ndash; CNRS / LUTH (Observatoire de Paris). <br />
 mail: <a href="#" onclick="location.href='mai'+'lto:'+'fab'+'ri'+'ce.'+'ro'+'y@o'+'bs'+'pm.'+'fr'; return false;">fabri<span style="display: none;">.nosp@m.</span>ce.r<span style="display: none;">.nosp@m.</span>oy@ob<span style="display: none;">.nosp@m.</span>spm.<span style="display: none;">.nosp@m.</span>fr</a> <br />
 The tools have been written by Fabrice Roy. <br />
</p>
<p>The package has been designed, tested and optimized in collaboration with Yann Rasera. <br />
 mail: <a href="#" onclick="location.href='mai'+'lto:'+'yan'+'n.'+'ras'+'er'+'a@o'+'bs'+'pm.'+'fr'; return false;">yann.<span style="display: none;">.nosp@m.</span>rase<span style="display: none;">.nosp@m.</span>ra@ob<span style="display: none;">.nosp@m.</span>spm.<span style="display: none;">.nosp@m.</span>fr</a> <br />
 The first version of the code is described in the journal note "pFoF: a highly scalable halo-finder for large cosmological data sets", F. Roy, V. Bouillot, Y. Rasera, A&amp;A 564, A13 (2014). <br />
</p>
<h1><a class="anchor" id="content_sec"></a>
Content of the package</h1>
<p>pFOF contains several softwares:</p><ul>
<li>pfof_snap: 'snapshot' version, used to detect dark matter halos in Ramses snapshots;</li>
<li>pfof_cone: 'cone' version, used to detect dark matter halos in Ramses lightcones;</li>
<li>conepartcreator: creates hdf5 containing shells of particles from Ramses output_ncoarse files;</li>
<li>conegravcreator: creates hdf5 containing shells of cells from Ramses output_ncoarse files;</li>
<li>conemapper: creates a mapping files from hdf5 shells to prepare a pfof_cone analyzis;</li>
<li>regionextractor: extract the particles from cubes files (created by pfof_snap) given a position and the size of the region to extract;</li>
<li>haloanalyzer; skeleton of a tool that can be used to further analysis of the halos detected by pfof_snap or pfof_cone.</li>
</ul>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>pFOF is written in Fortran 2003 and uses MPI. <br />
 Parallel HDF5 is required for HDF5 I/O. <br />
 The HDF5 I/O subroutines use some Fortran 2003 features. <br />
 HDF5 should be configured with the flags &ndash;enable-parallel and &ndash;enable-fortran (and &ndash;enable-fortran2003 for versions &lt; 1.10.0).<br />
 A standard Makefile is provided for each software in the package.</p>
<h2><a class="anchor" id="running"></a>
Running the program</h2>
<p>Running pfof_snap to analyze Ramses snapshots is straightforward:<br />
 mpirun -np 8 ./pfof<br />
 Note that you should use a cubic power as the number of processes (i.e. 8, 27, 64, 125, 216, etc.).<br />
</p>
<p>pfof_snap input parameters are read from pfof_snap.nml text file.<br />
</p>
<p>To run a lightcone analysis you should first create the shell files with conepartcreator, the create the mapping with conemapper, then copy the mapping that requires an adequate number of processes to procmap.h5, then run pfof_cone with the required number of processes.</p>
<h2><a class="anchor" id="test_sec"></a>
Test</h2>
<p>You can download some data set to test your installation.<br />
 You can run every software in the package with this dataset.<br />
 You just have to modify the pathes in the <br />
</p>
<h1><a class="anchor" id="copyright"></a>
Copyright and License</h1>
<p>This license applies to etc etc...</p>
<p><br />
<br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 8 2016 11:50:08 for pFoF by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
